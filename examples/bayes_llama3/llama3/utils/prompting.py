def llama_chat_prompt(
    messages: list[dict],
):
    """
    Formats messages into a prompt for Meta's Llama model.
    """
    B_INST, E_INST = "[INST]", "[/INST]"
    B_SYS, E_SYS = "<>\n", "\n<>\n\n"
    BOS, EOS = "<s>", ""
    DEFAULT_SYSTEM_PROMPT = """
        You are a helpful, respectful and honest assistant.
        Always answer as helpfully as possible, while being safe."""

    if messages[0]["role"] != "system":
        messages = [
            {
                "role": "system",
                "content": DEFAULT_SYSTEM_PROMPT,
            }
        ] + messages
    messages = [
        {
            "role": messages[1]["role"],
            "content": B_SYS + messages[0]["content"] + E_SYS + messages[1]["content"],
        }
    ] + messages[2:]
    messages_list = [
        f"{BOS}{B_INST} {(prompt['content']).strip()}"
        + f"{E_INST} {(answer['content']).strip()} {EOS}"
        for prompt, answer in zip(messages[::2], messages[1::2])
    ]
    messages_list.append(f"{BOS}{B_INST} {(messages[-1]['content']).strip()} {E_INST}")
    return "".join(messages_list)


ONE_SHOT = """Answer the question based on the text below. You should answer the question by choosing the letter (a, b, c, or d) that corresponds with the correct answer.\nThe scientific method is a set of steps that help us to answer questions. When we use logical steps and control the number of things that can be changed, we get better answers. As we test our ideas, we may come up with more questions. The basic sequence of steps followed in the scientific method is illustrated in Figure 1.1. Asking a question is one really good way to begin to learn about the natural world. You might have seen something that makes you curious. You might want to know what to change to produce a better result. Lets say a farmer is having an erosion problem. She wants to keep more soil on her farm. The farmer learns that a farming method called no-till farming allows farmers to plant seeds without plowing the land. She wonders if planting seeds without plowing will reduce the erosion problem and help keep more soil on her farmland. Her question is this: Will using the no-till method of farming help me to lose less soil on my farm? (Figure 1.2). Before she begins, the farmer needs to learn more about this farming method. She can look up information in books and magazines in the library. She may also search the Internet. A good way for her to learn is to talk to people who have tried this way of farming. She can use all of this information to figure out how she is going to test her question about no-till farming. Farming machines are shown in the Figure 1.3. After doing the research, the farmer will try to answer the question. She might think, If I dont plow my fields, I will lose less soil than if I do plow the fields. Plowing disrupts the soil and breaks up roots that help hold soil in place. This answer to her question is a hypothesis. A hypothesis is a reasonable explanation. A hypothesis can be tested. It may be the right answer, it may be a wrong answer, but it must be testable. Once she has a hypothesis, the next step is to do experiments to test the hypothesis. A hypothesis can be proved or disproved by testing. If a hypothesis is repeatedly tested and shown to be true, then scientists call it a theory. When we design experiments, we choose just one thing to change. The thing we change is called the independent variable. In the example, the farmer chooses two fields and then changes only one thing between them. She changes how she plows her fields. One field will be tilled and one will not. Everything else will be the same on both fields: the type of crop she grows, the amount of water and fertilizer that she uses, and the slope of the fields she plants on. The fields should be facing the same direction to get about the same amount of sunlight. These are the experimental controls. If the farmer only changes how she plows her fields, she can see the impact of the one change. After the experiment is complete, scientists then measure the result. The farmer measures how much soil is lost from each field. This is the dependent variable. How much soil is lost from each field depends on the plowing method. During an experiment, a scientist collects data. The data might be measurements, like the farmer is taking in Figure labeled. Labeling helps the scientist to know what each number represents. A scientist may also write descriptions of what happened during the experiment. At the end of the experiment the scientist studies the data. The scientist may create a graph or drawing to show the data. If the scientist can picture the data the results may be easier to understand. Then it is easier to draw logical conclusions. Even if the scientist is really careful it is possible to make a mistake. One kind of mistake is with the equipment. For example, an electronic balance may always measure one gram high. To fix this, the balance should be adjusted. If it cant be adjusted, each measurement should be corrected. A mistake can come if a measurement is hard to make. For example, the scientist may stop a stopwatch too soon or too late. To fix this, the scientist should run the experiment many times and make many measurements. The average of the measurements will be the accurate answer. Sometimes the result from one experiment is very different from the other results. If one data point is really different, it may be thrown out. It is likely a mistake was made in that experiment. The scientist must next form a conclusion. The scientist must study all of the data. What statement best explains the data? Did the experiment prove the hypothesis? Sometimes an experiment shows that a hypothesis is correct. Other times the data disproves the hypothesis. Sometimes its not possible to tell. If there is no conclusion, the scientist may test the hypothesis again. This time he will use some different experiments. No matter what the experiment shows the scientist has learned something. Even a disproved hypothesis can lead to new questions. The farmer grows crops on the two fields for a season. She finds that 2.2 times as much soil was lost on the plowed field as compared to the unplowed field. She concludes that her hypothesis was correct. The farmer also notices some other differences in the two plots. The plants in the no-till plots are taller. The soil moisture seems higher. She decides to repeat the experiment. This time she will measure soil moisture, plant growth, and the total amount of water the plants consume. From now on she will use no-till methods of farming. She will also research other factors that may reduce soil erosion. When scientists have the data and conclusions, they write a paper. They publish their paper in a scientific journal. A journal is a magazine for the scientists who are interested in a certain field. Before the paper is printed, other scientists look at it to try to find mistakes. They see if the conclusions follow from the data. This is called peer review. If the paper is sound it is printed in the journal. Other papers are published on the same topic in the journal. The evidence for or against a hypothesis is discussed by many scientists. Sometimes a hypothesis is repeatedly shown to be true and never shown to be false. The hypothesis then becomes a theory. Sometimes people say they have a theory when what they have is a hypothesis. In science, a theory has been repeatedly shown to be true. A theory is supported by many observations. However, a theory may be disproved if conflicting data is discovered. Many important theories have been shown to be true by many observations and experiments and are extremely unlikely to be disproved. These include the theory of plate tectonics and the theory of evolution. Scientists use models to help them understand and explain ideas. Models explain objects or systems in a more simple way. Models often only show only a part of a system. The real situation is more complicated. Models help scientists to make predictions about complex systems. Some models are something that you can see or touch. Other types of models use an idea or numbers. Each type is useful in certain ways. Scientists create models with computers. Computers can handle enormous amounts of data. This can more accu- rately represent the real situation. For example, Earths climate depends on an enormous number of factors. Climate models can predict how climate will change as certain gases are added to the atmosphere. To test how good a model is, scientists might start a test run at a time in the past. If the model can predict the present it is probably a good model. It is more likely to be accurate when predicting the future. A physical model is a representation of something using objects. It can be three-dimensional, like a globe. It can also be a two-dimensional drawing or diagram. Models are usually smaller and simpler than the real object. They most likely leave out some parts, but contain the important parts. In a good model the parts are made or drawn to scale. Physical models allow us to see, feel and move their parts. This allows us to better understand the real system. An example of a physical model is a drawing of the layers of Earth (Figure 1.5). A drawing helps us to understand the structure of the planet. Yet there are many differences between a drawing and the real thing. The size of a model is much smaller, for example. A drawing also doesnt give good idea of how substances move. Arrows showing the direction the material moves can help. A physical model is very useful but it cant explain the real Earth perfectly. Some models are based on an idea that helps scientists explain something. A good idea explains all the known facts. An example is how Earth got its Moon. A Mars-sized planet hit Earth and rocky material broke off of both bodies (Figure 1.6). This material orbited Earth and then came together to form the Moon. This is a model of something that happened billions of years ago. It brings together many facts known from our studies of the Moons surface. It accounts for the chemical makeup of rocks from the Moon, Earth, and meteorites. The physical properties of Earth and Moon figure in as well. Not all known data fits this model, but much does. There is also more information that we simply dont yet know. Models may use formulas or equations to describe something. Sometimes math may be the only way to describe it. For example, equations help scientists to explain what happened in the early days of the universe. The universe formed so long ago that math is the only way to describe it. A climate model includes lots of numbers, including temperature readings, ice density, snowfall levels, and humidity. These numbers are put into equations to make a model. The results are used to predict future climate. For example, if there are more clouds, does global temperature go up or down? Models are not perfect because they are simple versions of the real situation. Even so, these models are very useful to scientists. These days, models of complex things are made on computers. Accidents happen from time to time in everyday life. Since science involves an adventure into the unknown, it is natural that accidents can happen. Therefore, we must be careful and use proper equipment to prevent accidents (Figure 1.7). We must also be sure to treat any injury or accident appropriately. If you work in the science lab, you may come across dangerous materials or situations. Sharp objects, chemicals, heat, and electricity are all used at times in science laboratories. With proper protection and precautions, almost all accidents can be prevented (Figure 1.8). If an accident happens, it can be dealt with appropriately. Below is a list of safety guidelines to follow when doing labs: Follow directions at all times. A science lab is not a play area. Be sure to obey all safety guidelines given in lab instructions or by the lab supervisor. Be sure to use the correct amount of each material. Tie back long hair. Wear closed shoes with flat heels. Shirts should have no hanging sleeves, hoods, or drawstrings. Use gloves, goggles, or safety aprons as instructed. Be very careful when you use sharp or pointed objects, such as knives. Clean up broken glass quickly with a dust pan and broom. Never touch broken glass with your bare hands. Never eat or drink in the science lab. Table tops and counters could have dangerous substances on them. Keep your work area neat and clean. A messy work area can lead to spills and breakage. Completely clean materials like test tubes and beakers. Leftover substances could interact with other sub- stances in future experiments. If you are using flames or heat plates, be careful when you reach. Be sure your arms and hair are kept far away from heat sources. Use electrical appliances and burners as instructed. Know how to use an eye wash station, fire blanket, fire extinguisher, and first aid kit. Alert the lab supervisor if anything unusual occurs. Fill out an accident report if someone is hurt. The lab supervisor must know if any materials are damaged or discarded. Many Earth science investigations are conducted in the field (Figure 1.9). Field work needs some additional precautions: Be sure to wear appropriate clothing. Hiking requires boots, long pants, and protection from the Sun, for example. Bring sufficient supplies like food and water, even for a short trip. Dehydration can occur rapidly. Take along first aid supplies. Let others know where you are going, what you will be doing, and when you will be returning. Take a map with you if you dont know the area and leave a copy of the map with someone at home. Try to have access to emergency services and some way to communicate. Beware that cell phones may not have coverage in all locations. Be sure that you are accompanied by a person familiar with the area or is familiar with field work.\nWhy do scientists call the Big Bang a theory?\n\na. It is probably unlikely and therefore not a fact.\nb. A very well respected scientist proved it to be true.\nc. Many scientists have agreed upon this explanation after repeated experiments and models have shown it\nd. All possible answers to a scientific idea are called theories.\nAnswer: c\n"""


